package name.lorenzani.andrea.leet.maximisescore;

import junit.framework.TestCase;
import org.junit.Assert;

import java.util.Arrays;
import java.util.List;

public class SolutionTest extends TestCase {

    public void testPrimeScore(){
        Solution s = new Solution();
        s.initPrimes(8*3*5*7*11);

        Assert.assertEquals(3, s.primeScore(2*3*5));
        Assert.assertEquals(3, s.primeScore(8*3*5));
        Assert.assertEquals(5, s.primeScore(8*3*5*7*11));
    }

    public void testComputeIteration(){
        Solution s = new Solution();
        s.initPrimes(9);

        /*Assert.assertEquals(9, s.computeIteration(new int[]{8,3,9,3,8}, 2, 0));
        Assert.assertEquals(9, s.computeIteration(new int[]{8,3,9,3,8}, 2, 1));
        Assert.assertEquals(14, s.computeIteration(new int[]{19,12,14,6,10,18}, 2, 1));*/
    }

    public void testMaximumScore() {
        Solution s = new Solution();
        Assert.assertEquals(81, s.maximumScore(Arrays.asList(8,3,9,3,8), 2));
        Assert.assertEquals(4788, s.maximumScore(Arrays.asList(19,12,14,6,10,18), 3));
        Assert.assertEquals(256720975, s.maximumScore(Arrays.asList(3289,2832,14858,22011), 6));
        Assert.assertEquals(1, s.maximumScore(Arrays.asList(1), 1));
    }

    public void testStar() {
        List<Integer> input =Arrays.asList(98670,80850,34125,64441,33623,40427,20177,73876,1,29070,39856,64380,62790,60383,91569,68238,76986,44131,31919,80220,72358,86297,77550,64871,60990,1,49590,36161,30942,19925,34311,45476,1,78686,1,69870,98145,1,48594,1,3169,54600,71610,20058,77223,93843,43411,64021,25375,73768,57420,61030,46880,9176,48990,1,94710,21851,89142,1,78445,55062,67814,41962,1,36928,33806,60990,57310,80301,1,26601,62790,42940,78540,1,47057,24443,94710,81354,62461,54037,38805,1,83619,30030,13451,4270,9870,78177,16566,1,82110,1,26984,75781,96604,19879,47639,53400,90371,9870,87780,59150,1,60060,98670,90090,84490,28283,99330,97919,87465,88179,33040,86553,84630,57050,13805,1,52711,72930,1,85470,47586,22142,97440,58288,85178,1,1,60060,80052,43710,1,65824,1,57265,4567,30225,92820,29260,23224,1,88242,48971,17626,27170,77220,93234,78314,85470,85654,76350,67830,6078,23640,47981,89963,33810,31741,21627,27170,30030,9029,1,74094,1,78750,1,1,4629,81510,39270,43023,23581,14910,23469,39270,96390,32544,50808,1,85470,30030,59334,74150,69188,66708,64790,9185,1013,75042,85026,14093,14010,74056,32363,54390,94710,50505,30030,67830,71610,58489,53130,87780,34664,46993,72202,14386,30781,48821,36635,21143,1,40819,82093,92820,1,1171,9712,97440,25530,36465,97860,46452,71987,1,15823,8190,37164,48504,84547,8821,41910,38556,1,98878,69146,42977,51870,1,16943,78588,68717,75660,18610,33510,91865,53880,29062,8681,67847,1,1,1,62790,9965,84480,53633,1,54264,26050,69463,57525,62160,60060,1,56940,36307,13898,92322,85764,81030,50300,21487,71610,59208,83226,57084,1,90090,31594,1,69586,23100,71610,22260,38778,38719,68034,30233,69247,39814,89422,72930,13815,76369,77550,1,52033,65484,20710,46410,82110,5715,85470,34469,85215,94710,70854,1,66990,73968,37560,79115,37432,49901,94710,87613,25685,287,18263,33558,34854,71216,1,91740,49523,31072,68158,57057,41230,3592,40766,30603,59748,12553,7681,40020,51003,69027,25909,27612,89670,46176,61939,60606,25913,76294,20460,48204,57089,1,56152,76564,72240,22019,61908,9987,19699,90408,88410,31291,99330,24228,61420,30013,8977,50363,50094,47820,46410,74434,93280,83462,18855,1,30495,67830,1,25705,1,52775,8861,93476,22990,45771,77237,71610,60060,1,94170,77915,76538,53130,61675,31690,65400,10137,9435,46253,84284,84199,13560,27993,90090,11442,51870,76623,67975,53347,81510,64834,90489,25411,48105,17424,26203,1,55061,43890,58086,26946,91650,1225,69324,1,13406,6857,26921,45540,96819,70590,16493,82110,94745,1,99882,1,86011,83226,73950,51310,66462,88200,58521,64246,4663,35573,24360,36210,81640,43959,75265,62205,69356,50503,1,1,17220,81431,1,86584,36190,45942,25057,57930,51640,96348,65405,78320,30787,71923,69190,34939,20044,69168,48692,90388,65543,81510,47583,1,16146,9074,90090,74148,6308,59791,1,90090,64758,84630,94248,79170,86393,75480,1,89308,52644,1,1,1,91770,1,1,4658,43975,46410,41227,99330,23310,1,1,45613,81510,46157,25476,62985,34410,42042,1,37865,50742,1,74118,88715,27030,53130,27170,88477,4949,65628,98873,8969,1,99497,6225,95493,87945,1,57665,48672,38735,98041,46410,90090,61906,31397,51870,13071,53658,46410,50050,1,67830,91501,85575,91245,37733,63570,31020,10284,91770,94023,1,1,98523,44851,99110,61870,87473,99330,78540,75030,1520,17492,58196,81197,27156,76941,60373,12234,92315,88179,87610,78612,98176,24555,59473,50792,78702,67806,27823,85470,8839,1,21686,53186,69392,54015,89890,13440,94710,86856,48521,98467,52814,46172,62790,62266,17669,53209,76050,64155,84349,51870,88091,62790,1,1,39270,1,66990,79628,79086,1,54691,55823,50714,55230,58321,94710,65604,92820,54264,22605,54355,68250,881,1,103,14087,79170,22386,85470,1,1,30437,74653,1,41158,36863,69793,36956,60522,75306,82534,35420,69690,53295,78979,1,19663,1,82362,97283,39467,30030,1,13105,27281,88662,87977,94710,87262,7601,76245,96170,75582,34825,49810,10193,23679,73009,99613,54979,72091,26576,89760,71419,1,12539,85576,1,1,87780,35775,74827,17513,45409,69355,62193,55171,21890,84103,91770,87780,53130,1,58043,13878,24610,1,90132,14190,16380,1,46410,44835,9091,41792,53992,91081,79605,37050,74046,69734,12810,67559,88741,97680,55193,1,49697,99330,16282,90345,53043,78405,67813,43890,57346,78540,1,59430,37548,97151,84981,27551,62985,10571,65929,70844,62766,72930,91770,990,16170,1,52440,66509,11119,39228,35089,86038,28860,28291,1,87142,67830,85470,67830,1,78540,1,94347,66990,27945,91758,99960,96476,924,26910,27585,3141,660,87780,11429,54839,37050,94379,1,70850,71610,1,60424,73098,67470,75740,20577,28405,55163,23829,17850,3883,30697,83790,57149,39858,94710,67834,73458,42387,96510,87696,67830,7211,71943,98670,65323,45150,51886,64763,36151,84630,46337,1021,99330,78540,53367,58438,6269,82110,62790,94818,25261,1,98670,56768,22669,52934,1,62010,81510,92914,79478,92376,22066,60060,1,67830,83071,40320,61129,1,1);
        List<Integer> input2 =Arrays.asList(1,7980,33021,93093,32592,1,87780,86180,1,87620,44835,1,38675,15803,1,79169,5143,39979,95669,68510,65520,77768,7789,46410,12870,1,98897,51870,94961,20493,42463,17937,33726,54138,62790,44250,90090,72141,70525,60060,27678,72930,81510,34188,46410,55233,89547,84630,77896,78863,85843,74779,82711,1,88129,56281,73417,17312,83705,80459,1,50535,1,40031,54596,71610,77207,4793,2310,39402,1,46712,82789,1306,77550,88559,66623,18511,1,8580,89932,1,73421,38840,30030,1,1,32027,92100,1,87780,98949,68670,78540,43890,40346,13807,93060,1,45540,1,98670,73590,62053,82110,82584,67830,73146,43190,36529,62201,71832,17850,81510,34203,1,7534,49559,67497,28825,86651,1493,86405,48822,79730,13536,1678,58355,71987,66220,89766,57540,61530,1,85470,81508,6689,65550,1,28980,32097,56464,82110,85470,78402,19469,50647,51952,8067,1,56810,67980,2270,87027,52020,71597,27622,66402,1,18571,92820,82110,90090,82224,13700,39270,31062,14609,39270,1,1,46825,56179,8566,1,1171,85470,22465,41357,61663,79430,97410,8160,88030,4449,1,93253,46130,90090,24421,1,1,4421,67830,90006,87416,1,29274,1,50497,1,33751,10910,1,90090,63910,50946,1,80086,10997,58812,86710,46110,42007,27183,60060,60060,22573,87720,83694,59033,39270,1,39270,98770,66270,94710,1,1,74382,58786,1,90090,91770,1,32864,82727,11,85545,14430,1,87780,97410,55606,98929,12390,37352,53790,87780,68586,48449,47190,7880,94640,41710,91334,1,38456,1,98410,78540,1,69530,1,2979,58641,1,1,62790,14177,85715,72930,44641,69843,78540,47717,85470,78540,13805,50778,92732,1,5467,71861,43963,64832,1,19709,64428,92821,39270,67830,49980,5437,30030,99163,1,58881,1,58344,41284,1,38234,84630,30030,19744,65329,63190,34188,58451,51870,10601,15581,84211,16197,94185,1,90090,87780,1,23339,79170,62764,87108,85260,94075,37883,85785,55562,54631,98076,1,84630,13824,74343,41149,1,31333,70670,24567,1,53320,78540,1,36036,82889,72287,97768,60847,36540,90090,69580,13591,93060,70475,87290,1,94710,63510,87480,93330,23000,1,84630,53130,59453,70788,1,93571,13589,62106,1,81510,66990,88410,98670,48348,22980,70379,82530,30030,8607,1,37416,60060,62260,1,68567,99083,91459,30030,1285,92816,71610,15834,79170,4497,1,82110,69050,8833,46410,1,1,1,38280,1,1,1,26952,47803,49224,81510,11448,54181,1,87281,34025,1,60578,1,66462,56680,36092,93537,21930,1,83231,1,64454,95480,85470,67620,44549,1,98359,31188,51129,1,77137,96900,15170,3709,31110,47982,40768,8795,15610,63910,13458,45570,20797,86074,91770,60390,29463,82110,64390,68250,94710,30996,60277,17104,1,80460,21391,56166,27181,8758,64139,65948,7547,36210,25320,22388,1,1,1,8011,90090,86548,79170,80242,1,84913,81700,99660,60060,1,81689,37905,23880,80538,56070,98670,32318,87854,56644,7540,1,24032,5674,57190,67080,44012,9355,81510,62627,88550,99330,81272,1,16530,37272,1,48840,24242,99330,90398,41012,90146,27258,1,3298,67830,20445,62790,20060,45737,1,6489,12612,641,77291,54753,69657,78000,55158,1,21011,55590,81380,87780,90713,44106,28979,1,99326,1,42118,47476,55324,84630,75846,42809,50235,71453,1,1,64722,1,1,92820,29027,9373,36176,16654,62790,79170,1,93481,70518,98670,83469,1,10920,47730,41446,48317,86310,43781,91513,99330,91521,36035,82110,52667,65688,59640,21577,97104,81420,1,84910,28656,1,1,1,81510,89849,81402,98737,7437,38076,82774,37758,10243,1,62790,91704,90090,42729,47653,1,56210,44426,1,9312,51051,72681,47565,82110,75868,71347,38977,78540,10861,66880,28334,81534,98124,5612,67620,1,34038,35250,62790,99330,72930,1,79170,36270,77070,51294,8033,66306,78540,97980,87721,1,33437,1,51178,59160,9734,4322,38220,62510,86010,66990,67097,51439,89126,95160,75472,12920,46410,32830,51150,85866,53130,41646,37212,90090,13399,93383,72182,1,86057,55493,45840,69231,40664,1,58441,47228,78540,1,16555,94050,60060,11076,23782,30030,2996,79379,2837,84630,1,20393,95460,26489,36500,1,50851,42530,55123,26995,66780,59640,88037,30030,86988,55746,49335,71610,78727,86597,1,1,40213,65335,61658,39270,96840,83218,1,1,61691,87780,72930,73719,93534,66990,82494,7911,1,1,31658,97081,46320,67830,92530,99330,97719,47000,1,23808,72930,90919,71184,1,1,74431,81370,97566,85470,60060,2730,33347,75586,10751,56828,1,63829,1,93450,26785,86604,41118,19530,98206,54978,85437,14891,66300,35568,92428,71610,41487,924,66990,20133,1,49094,93140,1,65707,62790,41002,1,42546,1,1,46410,53243,92742,64449,93324,70692,4020,45452,39270,60060,81510,59481,24180,87346,13268,1,79170,99206,32538,34056,1,954,84467,8066,1,1,62790,95046,87695,25803,78540,51834,36465,7315,40862,83712,58850,29891,71153,85470,35776,89555,60310,1,51169,51870,44432,51870,36318,94331,99941,80621,74969,63745,90090,50765,70473,1,69737,43890,1,49469,81510,33582,94456,43890,98670,1,32571,5998,1,73195,48928,52999,82745,66990,70384,92820,11067,93786,39634,2577,99330,81090,37529,36599,1047,39270,67921,40584,60948,46440,91770,3794,1,82115,90780,42900,23410,82137,83326,63127,22149,81510,97269,84630,5652,96850,94291,18820,18396,69917,61148,1,68530,15040,82082,41994,1,39000,54670,22554,72210,1,33391,31907,65371);

        Solution s = new Solution();
        Assert.assertEquals(102973743, s.maximumScore(input, 287745));
        Assert.assertEquals(895422417, s.maximumScore(input2, 302013));
    }

}